<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sort users</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      <script src="/library/noUiSlider-15.7.1/noUiSlider-15.7.1/dist/nouislider.min.js"></script>
    <link rel="stylesheet" href="/library/noUiSlider-15.7.1/noUiSlider-15.7.1/dist/nouislider.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   <!--  <link rel="stylesheet" href="/css/pagination.css">
    <link rel="stylesheet" href="/css/home_page.css">
    <link rel="stylesheet" href="/css/home_page2.css"> -->
    <link rel="stylesheet" href="/sortcomponent/style.css">
</head>

<body>
    <div class="col-8 col-xl-2 col-lg-2 col-sm-8 wrapper-sort-account">
        <select class="form-select" id="sort_selection" aria-label="Sort User">
            <option selected>Sort accounts</option>
            <option value="fullname-asc">Name, Alphabetically, A-Z</option>
            <option value="fullname-desc">Name, Alphabetically, Z-A</option>
            <option value="total-asc">Total ,Price, low to high</option>
            <option value="total-desc">Total ,Price, high to low</option>
            <option value="date-desc">Date Order, new to old</option>
            <option value="date-asc">Date Order, old to new</option>
        </select>
        
    </div>
    
</body>

<script>
    const sortSelection = document.getElementById("sort_selection");
    sortSelection.addEventListener("change", async function () {

        let selectedValue = sortSelection.value;
        const parts = selectedValue.split('-');
        const sortByOrder = parts[1];
        const sortByField = parts[0];


        let curUrl = new URL(window.location.href);



        if (curUrl.searchParams.has('sortByField')) {
            curUrl.searchParams.set('sortByField', sortByField);
        }
        else {
            curUrl.searchParams.append('sortByField', sortByField);
        }

        if (curUrl.searchParams.has('sortByOrder')) {
            curUrl.searchParams.set('sortByOrder', sortByOrder);
        }
        else {
            curUrl.searchParams.append('sortByOrder', sortByOrder);
        }
        console.log(curUrl.toString());
        window.location.href = curUrl.toString();



    })
</script>

</html>